<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration</title>
    <link rel="stylesheet" href="/stylesheets/style.css">
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body>
    <div class="bg-zinc-900 w-full min-h-screen p-6">
        <a href="/profile" class="text-white bg-blue-800 uppercase px-2 py-1 my-4  rounded-full">Back</a>
        <div id="posts">
            <h3 class="text-white mt-12 mb-6">All Posts</h3>
            <div class="w-full flex flex-wrap gap-2">
                <% allposts.forEach(function(post) { %>
                    <div class="bg-zinc-800 flex mb-4 p-4 rounded-lg w-1/4">
                        <div class="w-full border py-2 px-2 bg-zinc-950 rounded-lg">
                            <h3 class="text-blue-600">@<%= post.user.username %>
                            </h3>
                            <p class="text-white">
                                <%= post.postadata %>
                            </p>
                            <h6 class="text-red-700">
                                <%= post.likes.length %> Likes
                            </h6>
                            <div class="text-white">Liked by:
                                <% if (post.likes.length> 0) { %>
                                    <% post.likes.forEach(function(user) { %>
                                        <% if (user.username) { %>
                                            <span class="text-blue-600">@<%= user.username %></span>
                                            <% } %>
                                                <% }) %>
                                                    <% } else { %>
                                                        <span class="text-blue-600">No likes</span>
                                                        <% } %>
                            </div>
                            <a href="/profile/like/<%= post._id %>" class="text-white">Like</a>
                        </div>
                    </div>
                    <% }) %>
            </div>
        </div>
    </div>
</body>

</html>